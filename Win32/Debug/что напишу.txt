в общем  - есть такая пробема, когда в транзакции не используется депозитный счет, в xml транзакции нет PAYMENT с account равным,
 DepositAccount → FarcardsSubAccount, аналогично с бонусным счетом - не совсем понятно, чем заполнять поля в этом случае

как оказалось во время выполнения транзакции farcard вызывает метод GetCardInfoEx, и передает туда невалидный xml, 
я его привожу к тому виду, который можно парсить в коде